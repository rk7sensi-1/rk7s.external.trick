<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Aux√≠lio Rk7s</title>

<style>
*{
  box-sizing:border-box;
  font-family:Arial, sans-serif;
}

body{
  margin:0;
  height:100vh;
  background:linear-gradient(180deg,#2b0000,#000);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
}

.panel{
  width:360px;
  background:#000;
  border-radius:18px;
  padding:18px;
  border:2px solid #ff1a1a;
  box-shadow:0 0 25px #ff1a1a;
}

.title{
  text-align:center;
  color:#ff1a1a;
  font-size:22px;
  margin-bottom:14px;
}

/* LOGIN SCREEN */
#login-screen{
  display:block;
}

#main-app{
  display:none;
}

.login-container{
  padding:40px 0;
}

.login-title{
  text-align:center;
  font-size:20px;
  color:#ff1a1a;
  margin-bottom:20px;
}

.key-input{
  width:100%;
  padding:12px;
  background:#111;
  border:2px solid #ff1a1a;
  border-radius:10px;
  color:#fff;
  font-size:16px;
  margin-bottom:10px;
  outline:none;
}

.key-input:focus{
  box-shadow:0 0 10px #ff1a1a;
}

.login-error{
  color:#ff5555;
  font-size:14px;
  text-align:center;
  margin:10px 0;
  min-height:20px;
}

.login-btn{
  width:100%;
  padding:14px;
  background:#ff1a1a;
  color:#000;
  border:none;
  border-radius:12px;
  font-size:17px;
  font-weight:bold;
  cursor:pointer;
  margin-top:10px;
}

.login-btn:active{
  transform:scale(0.98);
}

.login-info{
  margin-top:20px;
  padding:15px;
  background:#111;
  border-radius:10px;
  border:1px solid #ff1a1a;
  font-size:13px;
  line-height:1.6;
}

/* USER BADGE */
.user-badge{
  position:absolute;
  top:10px;
  right:10px;
  padding:6px 12px;
  border-radius:8px;
  font-size:12px;
  font-weight:bold;
}

.user-badge.admin{
  background:#ffd700;
  color:#000;
}

.user-badge.user{
  background:#00ff00;
  color:#000;
}

.logout-btn{
  position:absolute;
  top:10px;
  left:10px;
  padding:6px 12px;
  background:#ff1a1a;
  color:#fff;
  border:none;
  border-radius:8px;
  font-size:12px;
  cursor:pointer;
}

/* ABAS */
.tabs{
  display:flex;
  gap:10px;
  margin-bottom:16px;
  margin-top:30px;
}

.tab{
  flex:1;
  padding:10px;
  border-radius:10px;
  border:1px solid #ff1a1a;
  background:#111;
  color:#fff;
  cursor:pointer;
  font-size:15px;
}

.tab.active{
  background:#ff1a1a;
  color:#000;
}

/* CHECKBOX */
.row{
  display:flex;
  gap:12px;
  margin:10px 0;
}

.check{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:15px;
}

.column{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:10px;
}

input[type="checkbox"]{
  accent-color:#ff1a1a;
  width:15px;
  height:15px;
}

/* SLIDER */
.slider-line{
  display:flex;
  align-items:center;
  margin:18px 0;
  gap:10px;
}

.slider-line span.label{
  font-size:16px;
  white-space:nowrap;
  flex-shrink:0;
}

.slider-line .slider-wrapper{
  flex:1;
  max-width:150px;
  position:relative;
}

.slider-line input[type="range"]{
  width:100%;
  height:4px;
  -webkit-appearance:none;
  appearance:none;
  background:#ff1a1a;
  outline:none;
  border-radius:2px;
}

.slider-line input[type="range"]::-webkit-slider-track{
  width:100%;
  height:4px;
  background:#ff1a1a;
  border-radius:2px;
}

.slider-line input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none;
  appearance:none;
  width:18px;
  height:18px;
  background:#fff;
  border-radius:50%;
  cursor:pointer;
  box-shadow:0 0 5px rgba(0,0,0,0.5);
}

.slider-line input[type="range"]::-moz-range-track{
  width:100%;
  height:4px;
  background:#ff1a1a;
  border-radius:2px;
}

.slider-line input[type="range"]::-moz-range-thumb{
  width:18px;
  height:18px;
  background:#fff;
  border-radius:50%;
  cursor:pointer;
  border:none;
  box-shadow:0 0 5px rgba(0,0,0,0.5);
}

.slider-line .value{
  text-align:right;
  font-size:18px;
  font-weight:bold;
  min-width:55px;
  flex-shrink:0;
  margin-left:auto;
}

/* BOT√ÉO */
.btn{
  margin-top:16px;
  width:100%;
  padding:14px;
  background:#ff1a1a;
  color:#000;
  border:none;
  border-radius:14px;
  font-size:17px;
  font-weight:bold;
  cursor:pointer;
}

/* CONTE√öDO */
.content{display:none;}
.content.active{display:block;}

.info{
  font-size:15px;
  line-height:1.8;
}

.injection-status{
  margin-top:10px;
  font-size:13px;
  text-align:center;
  padding:8px;
  border-radius:6px;
}

.injection-status.success{
  background:#0a4d0a;
  color:#0f0;
}

.injection-status.info{
  background:#1a1a4d;
  color:#5599ff;
}
</style>
</head>

<body>

<!-- TELA DE LOGIN -->
<div class="panel" id="login-screen">
  <div class="title">Aux√≠lio Rk7s</div>
  
  <div class="login-container">
    <div class="login-title">üîê Login com Key</div>
    
    <input 
      type="text" 
      class="key-input" 
      id="key-input" 
      placeholder="Digite sua key aqui..."
      onkeypress="if(event.key==='Enter') loginWithKey()"
    >
    
    <div class="login-error" id="login-error"></div>
    
    <button class="login-btn" onclick="loginWithKey()">ENTRAR</button>
  </div>
</div>

<!-- APLICA√á√ÉO PRINCIPAL -->
<div class="panel" id="main-app" style="position:relative;">
  <button class="logout-btn" onclick="logout()">Sair</button>
  <div class="user-badge" id="user-badge"></div>
  
  <div class="title">Aux√≠lio Rk7s</div>

  <div class="tabs">
    <button class="tab active" onclick="abrirAba('funcoes', this)">Fun√ß√µes</button>
    <button class="tab" onclick="abrirAba('info', this)">Info</button>
  </div>

  <div id="funcoes" class="content active">

    <div class="row">
      <label class="check"><input type="checkbox" id="auxilio100">Aux√≠lio 100%</label>
      <label class="check"><input type="checkbox" id="precisao">Ativar Precis√£o</label>
      <label class="check"><input type="checkbox" id="fps">FPS</label>
    </div>

    <!-- FOV -->
    <div class="slider-line">
      <span class="label">Fov min</span>
      <div class="slider-wrapper">
        <input type="range" id="fovSlider" min="0" max="50" value="25"
          oninput="fovVal.innerText=this.value+'%'">
      </div>
      <span class="value" id="fovVal">25%</span>
    </div>

    <!-- PRECIS√ÉO -->
    <div class="slider-line">
      <span class="label">N√≠vel da precis√£o</span>
      <div class="slider-wrapper">
        <input type="range" id="precSlider" min="0" max="70" value="40"
          oninput="precVal.innerText=this.value">
      </div>
      <span class="value" id="precVal">40</span>
    </div>

    <div class="column">
      <label class="check"><input type="checkbox" id="aimbot">Ativar Aimbot</label>
      <label class="check"><input type="checkbox" id="recoil">No Recoil</label>
    </div>

    <button class="btn" onclick="injetarNoJogo()">Injetar no jogo</button>
    <div id="injecaoStatus"></div>
  </div>

  <div id="info" class="content">
    <div class="info">
      Criado por: @rk7s_ffx<br>
      Dica: ative as fun√ß√µes dentro do jogo.<br><br>
      <strong>Como usar:</strong><br>
      1. Marque as fun√ß√µes que deseja<br>
      2. Ajuste os valores dos sliders<br>
      3. Clique em "Injetar no jogo"<br>
      4. O sistema ir√° injetar apenas as fun√ß√µes ativas
    </div>
  </div>
</div>

<!-- MANIFEST -->
<link rel="manifest" href="manifest.json">

<!-- FIREBASE -->
<script type="module">
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
  import { getDatabase, ref, get, set, remove } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';
  
  const firebaseConfig = {
    apiKey: "AIzaSyCLAyXsGW_GETG2zZVonSSgqfSQkBCAzaQ",
    authDomain: "rk7sxt.firebaseapp.com",
    databaseURL: "https://rk7sxt-default-rtdb.firebaseio.com",
    projectId: "rk7sxt",
    storageBucket: "rk7sxt.firebasestorage.app",
    messagingSenderId: "770208970810",
    appId: "1:770208970810:web:4aa949d949166635071d03",
    measurementId: "G-HNJVMPY984"
  };
  
  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);
  
  window.db = database;
  window.dbRef = ref;
  window.dbGet = get;
  window.dbSet = set;
  window.dbRemove = remove;
  
  console.log("üî• Firebase conectado!");
</script>

<script>
let currentUser = null;

// C√≥digos de inje√ß√£o para cada fun√ß√£o
const CODIGOS_INJECAO = {
  auxilio100: {
    nome: 'Aux√≠lio 100%',
    chave: 'RK7S-AUX100-F4E2',
    codigo: `
// [INJECT] Aux√≠lio 100%
// Chave: RK7S-AUX100-F4E2
function injetarAuxilio100() {
  console.log('[‚úì] Aux√≠lio 100% ativado');
  window.auxilio100Ativo = true;
}
injetarAuxilio100();
`
  },
  precisao: {
    nome: 'Ativar Precis√£o',
    chave: 'RK7S-PREC-8B91',
    codigo: `
// [INJECT] Precis√£o Ativada
// Chave: RK7S-PREC-8B91
function injetarPrecisao() {
  console.log('[‚úì] Precis√£o ativada');
  window.precisaoAtiva = true;
}
injetarPrecisao();
`
  },
  fps: {
    nome: 'FPS Boost',
    chave: 'RK7S-FPS-C3D7',
    codigo: `
// [INJECT] FPS Otimizado
// Chave: RK7S-FPS-C3D7
function injetarFPS() {
  console.log('[‚úì] FPS otimizado');
  window.fpsBoostAtivo = true;
}
injetarFPS();
`
  },
  aimbot: {
    nome: 'Aimbot',
    chave: 'RK7S-AIM-D7B3',
    codigo: `
// [INJECT] Aimbot Ativado
// Chave: RK7S-AIM-D7B3
function injetarAimbot() {
  console.log('[‚úì] Aimbot ativado');
  window.aimbotAtivo = true;
}
injetarAimbot();
`
  },
  recoil: {
    nome: 'No Recoil',
    chave: 'RK7S-RECL-6F94',
    codigo: `
// [INJECT] No Recoil Ativado
// Chave: RK7S-RECL-6F94
function injetarNoRecoil() {
  console.log('[‚úì] No Recoil ativado');
  window.noRecoilAtivo = true;
}
injetarNoRecoil();
`
  },
  fov: {
    nome: 'FOV Customizado',
    chave: 'RK7S-FOV-A5F8',
    codigo: (valor) => `
// [INJECT] FOV Configurado
// Chave: RK7S-FOV-A5F8
// Valor: ${valor}%
function injetarFOV() {
  const fovValue = ${valor};
  console.log('[‚úì] FOV configurado para: ' + fovValue + '%');
  window.fovCustomizado = fovValue;
}
injetarFOV();
`
  },
  nivelPrecisao: {
    nome: 'N√≠vel de Precis√£o',
    chave: 'RK7S-PRECLVL-9E42',
    codigo: (nivel) => `
// [INJECT] N√≠vel de Precis√£o
// Chave: RK7S-PRECLVL-9E42
// N√≠vel: ${nivel}
function injetarNivelPrecisao() {
  const nivelPrecisao = ${nivel};
  console.log('[‚úì] N√≠vel de precis√£o configurado: ' + nivelPrecisao);
  window.nivelPrecisao = nivelPrecisao;
}
injetarNivelPrecisao();
`
  }
};

// LOGIN COM KEY
async function loginWithKey() {
  const keyInput = document.getElementById('key-input').value.trim();
  const errorDiv = document.getElementById('login-error');
  
  if (!keyInput) {
    errorDiv.textContent = '‚ùå Digite uma key v√°lida';
    return;
  }
  
  try {
    const keyRef = window.dbRef(window.db, 'keys/' + keyInput);
    const snapshot = await window.dbGet(keyRef);
    
    if (snapshot.exists()) {
      const keyData = snapshot.val();
      
      if (keyData.active) {
        currentUser = {
          key: keyInput,
          isAdmin: keyData.admin || false
        };
        
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('main-app').style.display = 'block';
        
        const badge = document.getElementById('user-badge');
        if (currentUser.isAdmin) {
          badge.className = 'user-badge admin';
          badge.textContent = 'üëë ADMIN';
        } else {
          badge.className = 'user-badge user';
          badge.textContent = '‚úÖ USER';
        }
        
        console.log('‚úÖ Login realizado:', currentUser.isAdmin ? 'ADMIN' : 'USER');
      } else {
        errorDiv.textContent = '‚ùå Esta key est√° inativa';
      }
    } else {
      errorDiv.textContent = '‚ùå Key inv√°lida';
    }
  } catch (error) {
    errorDiv.textContent = '‚ùå Erro ao verificar key';
    console.error(error);
  }
}

// LOGOUT
function logout() {
  currentUser = null;
  document.getElementById('login-screen').style.display = 'block';
  document.getElementById('main-app').style.display = 'none';
  document.getElementById('key-input').value = '';
  document.getElementById('login-error').textContent = '';
}

// Fun√ß√£o principal de inje√ß√£o
function injetarNoJogo() {
  if (!currentUser) {
    alert('‚ùå Voc√™ precisa estar logado!');
    return;
  }

  const statusDiv = document.getElementById('injecaoStatus');
  let codigosParaInjetar = [];
  let funcoesAtivas = [];

  let arquivoInjecao = `
/*
 * ==========================================
 * AUX√çLIO RK7S - ARQUIVO DE INJE√á√ÉO
 * ==========================================
 * Criado por: @rk7s_ffx
 * User: ${currentUser.isAdmin ? 'ADMIN' : 'USER'}
 * Key: ${currentUser.key}
 * Data: ${new Date().toLocaleString('pt-BR')}
 * ==========================================
 */

`;

  if (document.getElementById('auxilio100').checked) {
    const config = CODIGOS_INJECAO.auxilio100;
    codigosParaInjetar.push(config.codigo);
    funcoesAtivas.push(config.nome);
  }

  if (document.getElementById('precisao').checked) {
    const config = CODIGOS_INJECAO.precisao;
    codigosParaInjetar.push(config.codigo);
    funcoesAtivas.push(config.nome);
  }

  if (document.getElementById('fps').checked) {
    const config = CODIGOS_INJECAO.fps;
    codigosParaInjetar.push(config.codigo);
    funcoesAtivas.push(config.nome);
  }

  if (document.getElementById('aimbot').checked) {
    const config = CODIGOS_INJECAO.aimbot;
    codigosParaInjetar.push(config.codigo);
    funcoesAtivas.push(config.nome);
  }

  if (document.getElementById('recoil').checked) {
    const config = CODIGOS_INJECAO.recoil;
    codigosParaInjetar.push(config.codigo);
    funcoesAtivas.push(config.nome);
  }

  const fovValue = document.getElementById('fovSlider').value;
  const config = CODIGOS_INJECAO.fov;
  codigosParaInjetar.push(config.codigo(fovValue));
  funcoesAtivas.push(`${config.nome} (${fovValue}%)`);

  const precValue = document.getElementById('precSlider').value;
  const configPrec = CODIGOS_INJECAO.nivelPrecisao;
  codigosParaInjetar.push(configPrec.codigo(precValue));
  funcoesAtivas.push(`${configPrec.nome} (${precValue})`);

  arquivoInjecao += codigosParaInjetar.join('\n');
  arquivoInjecao += `

/*
 * ==========================================
 * FUN√á√ïES INJETADAS: ${funcoesAtivas.length}
 * ${funcoesAtivas.map(f => '- ' + f).join('\n * ')}
 * ==========================================
 */
`;

  console.log('='.repeat(50));
  console.log('ARQUIVO DE INJE√á√ÉO GERADO');
  console.log('='.repeat(50));
  console.log(arquivoInjecao);
  console.log('='.repeat(50));

  statusDiv.className = 'injection-status success';
  statusDiv.textContent = '‚úÖ Inje√ß√£o realizada com sucesso!';

  setTimeout(() => {
    abrirJogo();
  }, 500);
}

function abrirJogo(){
  // Abrir o jogo
  const ua = navigator.userAgent || navigator.vendor || window.opera;
  const nome = "Free Fire"; // Pode alterar para "FF MAX" se necess√°rio
  
  if (nome === "Free Fire") {
    if (/android/i.test(ua)) {
      window.location.href = "intent://#Intent;package=com.dts.freefireth;scheme=freefire;end";
      setTimeout(function() {
        window.location.href = "https://play.google.com/store/apps/details?id=com.dts.freefireth";
      }, 2000);
    } else if (/iPad|iPhone|iPod/.test(ua)) {
      window.location.href = "freefire://";
      setTimeout(function() {
        window.location.href = "https://apps.apple.com/br/app/free-fire/id1300146617";
      }, 2000);
    }
  } else if (nome === "FF MAX") {
    if (/android/i.test(ua)) {
      window.location.href = "intent://#Intent;package=com.dts.freefiremax;scheme=freefiremax;end";
      setTimeout(function() {
        window.location.href = "https://play.google.com/store/apps/details?id=com.dts.freefiremax";
      }, 2000);
    } else if (/iPad|iPhone|iPod/.test(ua)) {
      window.location.href = "freefiremax://";
      setTimeout(function() {
        window.location.href = "https://apps.apple.com/br/app/free-fire-max/id1444963002";
      }, 2000);
    }
  }
}

function abrirAba(id, btn){
  document.querySelectorAll('.content').forEach(c=>c.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  btn.classList.add('active');
}

if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js").catch(err => {
    console.log('Service Worker registration failed:', err);
  });
}
</script>

</body>
</html>